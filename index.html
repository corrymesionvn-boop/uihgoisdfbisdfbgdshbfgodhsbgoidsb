<!DOCTYPE html>
<html>
<head>
    <title>Minecraft Controller</title>
    <style>
        body { background: #1a1a1a; color: white; font-family: sans-serif; text-align: center; padding: 50px; }
        .btn { padding: 20px 40px; font-size: 20px; cursor: pointer; border-radius: 10px; border: none; margin: 10px; transition: 0.3s; }
        .start { background: #27ae60; color: white; }
        .start:hover { background: #2ecc71; }
        .stop { background: #c0392b; color: white; }
        .stop:hover { background: #e74c3c; }
        #status { margin-top: 20px; font-style: italic; color: #f1c40f; }
    </style>
</head>
<body>
    <h1>ðŸŽ® Server Control Panel</h1>
    <button class="btn start" onclick="callIDX('start-server')">Báº¬T SERVER</button>
    <button class="btn stop" onclick="callIDX('stop-server')">Táº®T SERVER</button>
    <div id="status">Tráº¡ng thÃ¡i: Sáºµn sÃ ng</div>

    <script>
        // THAY LINK IDX Cá»¦A Báº N VÃ€O ÄÃ‚Y
        const IDX_URL = "https://dieukhien.hostdechoi.dpdns.org"; 

        function callIDX(endpoint) {
            document.getElementById('status').innerText = "Äang gá»­i lá»‡nh...";
            fetch(`${IDX_URL}/${endpoint}`)
                .then(res => res.text())
                .then(data => {
                    document.getElementById('status').innerText = "ThÃ´ng bÃ¡o: " + data;
                })
                .catch(err => {
                    document.getElementById('status').innerText = "Lá»—i: IDX chÆ°a báº­t hoáº·c sai link!";
                });
        }

        // TÃ­nh nÄƒng TinyTask: Tá»± táº¯t khi Ä‘Ã³ng web
        window.onbeforeunload = function() {
            navigator.sendBeacon(`${IDX_URL}/stop-server`);
        };
    </script>
</body>
</html>
